<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Registar Alumnos</title>

<link rel="stylesheet" href="Estilos/EstilosRegistrar.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
  
<!------------------------------------------------------------------------------------------------------------------------------------------------------------------------>
<!------------------------------------------------------------------------------------------------------------------------------------------------------------------------>
  <script>
  $( function() {
    $( "#fechanac" ).datepicker({
    	dateFormat: 'dd/mm/yy'
    });
  } );	
  </script>
  
  <%@ page language="java" %>
<%@ page import="java.util.Random" %>
  
  		<%
        // Generar un número aleatorio de 5 dígitos
        Random random = new Random();
        int randomNumber = random.nextInt(90000) + 10000;

        // Generar la cadena resultante
        String result = "I2022" + randomNumber;
    		%>

     <%!
        private static final String CHARACTERS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
        private static final String NUMBERS = "0123456789";

        public String generarContraseña(int longitud) {
            StringBuilder contraseña = new StringBuilder();
            Random random = new Random();

            // Generar al menos un número
            contraseña.append(NUMBERS.charAt(random.nextInt(NUMBERS.length())));

            // Generar letras minúsculas y mayúsculas
            for (int i = 1; i < longitud - 1; i++) {
                contraseña.append(CHARACTERS.charAt(random.nextInt(CHARACTERS.length())));
            }

            return contraseña.toString();
        }
    %>
    <% 
        int longitudContraseña = 10; // Define la longitud deseada de la contraseña
        String contraseñaGenerada = generarContraseña(longitudContraseña);
    %>
    
	<script type="text/javascript">
        function convertirMayusculas(input) {
            input.value = input.value.toUpperCase();
        }
    </script>
   <script>
        function generarCodigo() {
            // Generar un número aleatorio de 5 dígitos
            var randomNumber = Math.floor(Math.random() * 90000) + 10000;

            // Generar la cadena resultante
            var result = "I2022" + randomNumber;

            // Mostrar el código generado en el elemento con id "codigoGenerado"
            document.getElementById("codigoGenerado").innerHTML = result;
        }
    </script>
</head>

<!------------------------------------------------------------------------------------------------------------------------------------------------------------------------>
<!------------------------------------------------------------------------------------------------------------------------------------------------------------------------>


<body class="body">

<div class="contenedor">
		<div class="botones">
			<div align="center">
				<img alt="" src="Images/logopremi.png" class="logo">
			</div>
		
			<ul class="list-group">
			   <a href="MenuPrincipal.jsp" ><li class="list-group-item">Menú Principal</li></a>
			  <br>
			  <a href="RegistrarAlumno.jsp"><li class="list-group-item list-group-item-action list-group-item-secondary">Registrar Alumnos</li></a>
			  <a href="ListarAlumnoRegistrado.jsp" ><li class="list-group-item">Listar Alumnos</li></a>
			  <a href="#"><li class="list-group-item">Actualizar Alumnos</li></a>
			  <a href="#"><li class="list-group-item">Eliminar Alumnos</li></a>
			</ul>
		</div>
	 

   
		<div class="cuerpo">
			<form action="ControladorAlumno" method="post">
				<table align="center">
				<br><br><br><br>
				<h2 style="color: white;" align="center">Registrar Alumno</h2>
				
				 
					<tr>
						<td style="color: white;">ID</td>
						<td>				
							      <input type="text" name="id"  value="<%= result %>" class="form-control mb-2" readonly> 
						</td>
					</tr>
					
					<!--  
					<tr>
						<td style="color: white;">Contraseña</td>
						<td>
							<input type="text" name="password" class="form-control mb-2">
						</td>
					</tr>-->
					
					<tr>
						<td style="color: white;">ID</td>
						<td>				
							      <input type="text" name="id"  value="<%= contraseñaGenerada %>" class="form-control mb-2" readonly> 
						</td>
					</tr>
					
					<tr>
						<td style="color: white;">Nombres</td>
						<td>
							<input type="text" name="nombre" class="form-control mb-2" oninput="convertirMayusculas(this)">
						</td>
					</tr>
					<tr>
						<td style="color: white;">Apellidos</td>
						<td>
							<input type="text" name="apellido" class="form-control mb-2" oninput="convertirMayusculas(this)">
						</td>
					</tr>
					<tr>
						<td style="color: white;">Dni</td>
						<td>
							<input type="text" name="dni" class="form-control mb-2">
						</td>
					</tr>
					<tr>
						<td style="color: white;">Correo</td>
						<td>
							<input type="text" name="correo" class="form-control mb-2" oninput="convertirMayusculas(this)">
						</td>
					</tr>
					<tr>
						<td style="color: white;">Telefono</td>
						<td>
							<input type="text" name="fono" class="form-control mb-2" >
						</td>
					</tr>
					
					<!--
					<tr>
						<td style="color: white;">Carrera</td>
						<td>
							<input type="" name="carrera" class="form-control mb-2" oninput="convertirMayusculas(this)">
						</td>
					</tr>
					-->				
					<tr>
						<td style="color: white;">Carrera</td>
						<td>
							<select class="custom-select mr-sm-2" id="carrera" name="carrera" >
						        <option selected>Choose...</option>
						        <option value="1">One</option>
						        <option value="2">Two</option>
						        <option value="3">Three</option>
						      </select>
					      </td>
					</tr>

					<tr>
						<td style="color: white;">Fecha de Nacimiento</td>
						<td>
							<input type="text" name="fechanac" class="form-control mb-2"  id="fechanac">
						</td>	
					</tr>
					
					
					<tr>
						<td colspan="2" align="center">
							<input type="submit"  value="Hecho" class="btn btn-primary" id="registrar">
						</td>
					</tr>
						
				</table>
			</form>
		</div>
</div>


</body>
</html>